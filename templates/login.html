from flask import render_template, jsonify
from app import app

@app.route('/')
@app.route('/index')
def index():
    return render_template('login.html', title='تسجيل الدخول - Secure City IQ')

@app.route('/demo')
def demo():
    return render_template('demo.html', title='لوحة التحكم - نسخة تجريبية')

@app.route('/run-action/<action_name>')
def run_action(action_name):
    # هذه الرسائل هي التي ستظهر عند الضغط على الأزرار
    actions = {
        'threat_map': 'جاري تحميل خريطة التهديدات الحية لمدينة واسط...',
        'analysis': 'بدأ تحليل البيانات الأمنية الشاملة للمنطقة.',
        'monitoring': 'جميع الأجهزة المتصلة تحت المراقبة المشفرة حالياً.',
        'encryption': 'تم تفعيل نظام التشفير العسكري لجميع القنوات.',
        'settings': 'جاري فتح إعدادات النظام المتقدمة...',
        'export': 'جاري تجهيز التقرير الأمني بصيغة PDF...'
    }
    
    message = actions.get(action_name, "تم تنفيذ الأمر بنجاح")
    return jsonify({"status": "success", "message": message})